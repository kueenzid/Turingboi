package com.zhaw.thin;

import java.util.InvalidPropertiesFormatException;
import java.util.Scanner;

public class Main {
    // 2*4
    // 10101000100010011010010000000000010010110001010001010011000100100000000000010010011000000000000101000010010011000000000000100010000000010001011000010100001010011000010001000001000100110000010100000101001100000100010000001010110000001010000001010110000001000100000001000101100000001010000000101011000000010010000000000001010011000000001010000000010101100000000100100000000010010110000000001010000000001010110000000001000101000100110000000000101000000000010101100000000001001000000000001001001100000000000100010010001001100100100100010011001010010001001110010000

    // 13*17
    // 10101000100010011010010000000000010010110001010001010011000100100000000000010010011000000000000101000010010011000000000000100010000000010001011000010100001010011000010001000001000100110000010100000101001100000100010000001010110000001010000001010110000001000100000001000101100000001010000000101011000000010010000000000001010011000000001010000000010101100000000100100000000010010110000000001010000000001010110000000001000101000100110000000000101000000000010101100000000001001000000000001001001100000000000100010010001001100100100100010011001010010001001110000000000000100000000000000000

    // 1*27
    // 101010001000100110100100000000000100101100010100010100110001001000000000000100100110000000000001010000100100110000000000001000100000000100010110000101000010100110000100010000010001001100000101000001010011000001000100000010101100000010100000010101100000010001000000010001011000000010100000001010110000000100100000000000010100110000000010100000000101011000000001001000000000100101100000000010100000000010101100000000010001010001001100000000001010000000000101011000000000010010000000000010010011000000000001000100100010011001001001000100110010100100010011101000000000000000000000000000

    // 23*0
    // 1010100010001001101001000000000001001011000101000101001100010010000000000001001001100000000000010100001001001100000000000010001000000001000101100001010000101001100001000100000100010011000001010000010100110000010001000000101011000000101000000101011000000100010000000100010110000000101000000010101100000001001000000000000101001100000000101000000001010110000000010010000000001001011000000000101000000000101011000000000100010100010011000000000010100000000001010110000000000100100000000000100100110000000000010001001000100110010010010001001100101001000100111000000000000000000000001
    // Multiplication turing machine with input 2*2
    // 101010001000100110100100000000000100101100010100010100110001001000000000000100100110000000000001010000100100110000000000001000100000000100010110000101000010100110000100010000010001001100000101000001010011000001000100000010101100000010100000010101100000010001000000010001011000000010100000001010110000000100100000000000010100110000000010100000000101011000000001001000000000100101100000000010100000000010101100000000010001010001001100000000001010000000000101011000000000010010000000000010010011000000000001000100100010011001001001000100110010100100010011100100
    public static void main(String[] args) throws InvalidPropertiesFormatException {
        int choice;
        String binaryInput;
        Scanner scanner = new Scanner(System.in);

        System.out.println("Choose input type:\n1: Binary\n2: Decimal");
        choice = scanner.nextInt();

        switch (choice) {
            case 1 -> {
                System.out.println("Enter your input: ");
                binaryInput = scanner.next();
                System.out.println(binaryInput);
            }
            case 2 -> {
                System.out.println("Enter your input: ");
                binaryInput = scanner.nextBigInteger().toString(2);
                System.out.println(binaryInput);
            }
            default -> throw new IllegalStateException("Unexpected value: " + choice);
        }
        String[] parts = binaryInput.split("111", 2);
        String coding = parts[0];
        if (parts.length > 1) {
            String word = parts[1];
            System.out.println(coding + " / " + word);
            TuringMachine turingMachine = new TuringMachine(coding.substring(1), 1, 2);
            System.out.println("Choose mode:\n1: Stepmode\n2: Runmode");
            choice = scanner.nextInt();
            turingMachine.run(word, choice == 1);
        }
    }
}
